
The code in this directory is shipped with the manuscript:
"Iterated circuit computation by DNA self-assembly in a field-programmable gate array architecture".
Woods, Doty, Myhrvold, Hui, Zhou, Yin and Winfree.

Our software can be installed on Linux and MacOS machines in several ways. (Installation on Windows is not possible as a piece of software we require, namely NUPACK, is not supported on Windows.)

We strongly recommend following the Nix instructions outlined below in part (A) as this provides an automated install procedure that will create an isolated environment that sets up the required prerequisites without otherwise impacting your system. The nix-installed packages can be easily removed.

We also provide alternative do-it-yourself instructions (further below in part B) for those who do not wish to install the Nix package manager, but are happy to alter the global state of their system (configuration via B might be trickier than A).

Example invocations of the sequence designer are given in part C.

A note on NUPACK and ViennaRNA versions: Note that our DNA sequence designer used nupack3.0.4 to design the 6bit IBC DNA sequences in the publication, but we include nupack3.0.6 here. We believe that choosing between either version should not affect sequence quality. We have not (yet) updated to the later versions of NUPACK than nupack3.0.6 because they would require some internal changes to our code to accommodate interface and I/O differences.  We used ViennaRNA-2.1.9 in the paper, the same version shipped here. 


----------------------------------------
A. Nix Instructions
----------------------------------------

1. Install the Nix package manager by running:
 curl https://nixos.org/nix/install | sh
After the install, follow any instructions given on screen.
For more information on Nix, see: https://nixos.org/nix/

2. Create a directory and place the sequence design code there. That directory needs to contain the file default.nix shipped with the sequence design code. You'll need a functioning Internet connection. In that directory run the command:
 nix-shell
This will install a number of dependencies, essentially in an isolated environment, including nupack, ViennaRNA, Python2 and others. Nix should then present you a new bash shell ready for use. The dependencies required for our sequence designer are locally available to the nix/bash shell and will not be globally available on your system (nor will they interfere with your current system setup).


----------------------------------------
B. Do-it-yourself Instructions
----------------------------------------

The sequence designer relies on the specific point versions of NUPACK and ViennaRNA; using different versions may cause an error. It also uses Python 2, and a number of python2 packages including numpy and matplotlib.

1. Install Python 2.

2. Install the python packages for numpy and matplotlib.

3. NUPACK: Install NUPACK version 3.0.6 included as ./nupack_viennaRNA/nupack3.0.6.tar.gz (at the time of writing the source is publicly available by request from the authors here: http://www.nupack.org/downloads). Extract and run GNU make. The pdf file doc/NUPACK-UserGuide-3.0.pdf included NUPACK has helpful info on nupack and on setting env variables. 

4. ViennaRNA: The source for ViennaRNA-2.1.9 included as ./nupack_viennaRNA/ViennaRNA-2.1.9.tar.gz (at the time of writing the source publicly is here: https://www.tbi.univie.ac.at/RNA/download/sourcecode/2_1_x/ViennaRNA-2.1.9.tar.gz). Follow the instructions in the "INSTALL" text file. 



----------------------------------------
C. Some example commands
----------------------------------------
An example command to quickly design a small demo sequence set:
 python2 atam2ssts.py  -p parameter_files/demo.py  -o designed_sequences/demo_sequences.txt

An example command to quickly design 355 sequences using loose parameters that will presumably result in worse sequences than those used in our experimental work:
 python2 atam2ssts.py  -p parameter_files/IBC_6bit_loose_params.py  -o designed_sequences/IBC_6bit_loose_params_sequences.txt

An example command to design 355 sequences using the parameters used in our experimental work (takes a very long time and may not halt for some runs, depending on random number seed):
 python2 atam2ssts.py  -p parameter_files/IBC_6bit.py  -o designed_sequences/IBC_6bit_sequences.txt



